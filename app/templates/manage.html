{% extends 'layout.html' %}

{% block content %}
    <div class="content-section">
        <!-- set action to empty string in order to post the form to the same route we are currently on -->
        <form method="POST", action="?form=form"> 
            <!-- Adding CSRF (Cross-Site Request Forgery) token -->
            {{ add_user_form.hidden_tag() }}
            <fieldset class="form-group">
                <legend class="border-bottom mb-4"> Add User </legend>

                <div class="form-group">
                    {{ add_user_form.add_username.label(class="form-control-label") }}
                    {% if add_user_form.add_username.errors %}
                        {{ add_user_form.add_username(class="form-control form-control-lg is-invalid") }}
                        {% for error in add_user_form.add_username.errors %}
                            <span> {{ error }} </span>
                        {% endfor %}
                    {% else %}
                        {{ add_user_form.add_username(class="form-control form-control-lg") }}
                    {% endif %}
                </div>
                <div class="form-group">
                    {{ add_user_form.role }}
                    {{ add_user_form.role.label(class="form-control-label") }}
                </div>

                <div class="form-group">
                    {{ add_user_form.gender.label(class="form-control-label") }}
                    <table width="50%">
                        <tr>
                            {% for item in add_user_form.gender %}
                                <td> {{ item }}&nbsp;&nbsp;{{ item.label }} </td>
                            {% endfor %}
                        </tr>
                    </table>
                </div>


                <div class="form-group">
                    {{ add_user_form.email.label(class="form-control-label") }}
                    {% if add_user_form.email.errors %}
                        {{ add_user_form.email(class="form-control form-control-lg is-invalid") }}
                        {% for error in add_user_form.email.errors %}
                            <span> {{ error }} </span>
                        {% endfor %}
                    {% else %}
                        {{ add_user_form.email(class="form-control form-control-lg") }}
                    {% endif %}
                </div>
                <div class="form-group">
                    {{ add_user_form.password.label(class="form-control-label") }}
                    {% if add_user_form.password.errors %}
                        {{ add_user_form.password(class="form-control form-control-lg is-invalid") }}
                        {% for error in add_user_form.password.errors %}
                            <span> {{ error }} </span>
                        {% endfor %}
                    {% else %}
                        {{ add_user_form.password(class="form-control form-control-lg") }}
                    {% endif %}
                </div>
                <div class="form-group">
                    {{ add_user_form.confirm_password.label(class="form-control-label") }}
                    {% if add_user_form.confirm_password.errors %}
                        {{ add_user_form.confirm_password(class="form-control form-control-lg is-invalid") }}
                        {% for error in add_user_form.confirm_password.errors %}
                            <span> {{ error }} </span>
                        {% endfor %}
                    {% else %}
                        {{ add_user_form.confirm_password(class="form-control form-control-lg") }}
                    {% endif %}
                </div>
            </fieldset>
            <div class="form-group">
                {{ add_user_form.add_submit(class="btn btn btn-outline-info") }}
            </div>
        </form>
    </div>

    <div class="content-section">
        <form method="POST", action="?form=delete_user_form"> 
            <!-- Adding CSRF (Cross-Site Request Forgery) token -->
            {{ delete_user_form.hidden_tag() }}
            <fieldset class="form-group">
                <legend class="border-bottom mb-4"> Delete User </legend>

                <div class="form-group">
                    {{ delete_user_form.delete_username.label(class="form-control-label") }}
                    {% if delete_user_form.delete_username.errors %}
                        {{ delete_user_form.delete_username(class="form-control form-control-lg is-invalid") }}
                        {% for error in delete_user_form.delete_username.errors %}
                            <span> {{ error }} </span>
                        {% endfor %}
                    {% else %}
                        {{ delete_user_form.delete_username(class="form-control form-control-lg") }}
                    {% endif %}
                </div>
            </fieldset>
            <div class="form-group">
                {{ delete_user_form.delete_submit(class="btn btn-outline-danger") }}
            </div>
        </form>
    </div>
{% endblock content %}
